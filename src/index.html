<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>CORS Credentials ì—ëŸ¬ í…ŒìŠ¤íŠ¸</title>
</head>
<body>
  <h1>F12 ê°œë°œì ë„êµ¬ì˜ ì½˜ì†”ì„ í™•ì¸í•˜ì„¸ìš”.</h1>
  <script>
    async function testError() {
      console.log('ì—ëŸ¬ í…ŒìŠ¤íŠ¸ ì‹œì‘...');
      try {
        // ğŸš¨ ì›ì¸ 2: 'credentials: 'include'' ì˜µì…˜
        // "ì¿ í‚¤ ê°™ì€ ë¯¼ê° ì •ë³´ë¥¼ í¬í•¨í•´ì„œ ìš”ì²­í• ê²Œìš”!"ë¼ê³  ì„ ì–¸
        const response = await fetch('http://localhost:3000/api/test', {
          credentials: 'include' 
        });
        
        const data = await response.json();
        console.log('ì„±ê³µ (ì´ ë©”ì‹œì§€ëŠ” ë³´ì´ë©´ ì•ˆ ë¨):', data);

      } catch (error) {
        console.error('ì—ëŸ¬ ë°œìƒ!');
        console.error(error); // ì—¬ê¸°ì— ê·¸ ì˜¤ë¥˜ ë©”ì‹œì§€ê°€ ì°í™ë‹ˆë‹¤.
      }
    }
    testError();
  </script>
</body>
</html>